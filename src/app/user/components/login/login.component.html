<div class="container">
  @if (!isRecoverMode) {
    <div class="login-container">
      <div class="form-container">
        <div class="logo">
          <img src="logo.png" alt="logo" class="logo-image" />
          <h2 class="logo-text">StarData</h2>
        </div>
        <h2>Login</h2>
        <form>
          <mat-form-field appearance="fill" class="form-field">
            <mat-label>Username</mat-label>
            <input [(ngModel)]="username" matInput name="userName" />
          </mat-form-field>
          <mat-form-field class="form-field">
            <mat-label>Password</mat-label>
            <input
              placeholder="at least 8 chracters"
              [(ngModel)]="password"
              matInput
              [type]="hide() ? 'password' : 'text'"
              name="password"
            />
            <button
              mat-icon-button
              matSuffix
              (click)="hidePassClick($event)"
              [attr.aria-label]="'Hide password'"
              [attr.aria-pressed]="hide()"
              type="button"
            >
              <mat-icon
                >{{ hide() ? "visibility_off" : "visibility" }}
              </mat-icon>
            </button>
          </mat-form-field>
          <mat-checkbox [(ngModel)]="checked" name="rememberMe"
            >Remember me
          </mat-checkbox>
          <button
            type="submit"
            mat-flat-button
            [disabled]="isLoading"
            (click)="loginClick()"
          >
            @if (isLoading) {
              Logging in...
            } @else {
              Login
            }
          </button>

          <p class="forget">
            <span>Forget password?</span>
            <button class="recover" (click)="changeRecoverLoginMode()">
              Recover it
            </button>
          </p>
        </form>
      </div>
    </div>
  } @else {
    <div class="recover-container">
      <div class="form-container">
        <div class="logo">
          <img src="logo.png" alt="logo" class="logo-image" />
          <h2 class="logo-text">StarData</h2>
        </div>
        <h2>Recover Password</h2>
        <form>
          <mat-form-field appearance="fill" class="form-field">
            <mat-label>Recovery Email</mat-label>
            <input
              [(ngModel)]="recover_email"
              matInput
              name="email"
              disabled="{{ isTrueRecoverCode }}"
            />
          </mat-form-field>
          @if (isTrueRecoverCode) {
            <mat-form-field class="form-field">
              <mat-label>New Password</mat-label>
              <input
                placeholder="at least 8 chracters"
                [(ngModel)]="password"
                matInput
                [type]="hide() ? 'password' : 'text'"
                name="password"
              />
              <button
                mat-icon-button
                matSuffix
                (click)="hidePassClick($event)"
                [attr.aria-label]="'Hide password'"
                [attr.aria-pressed]="hide()"
                type="button"
              >
                <mat-icon
                  >{{ hide() ? "visibility_off" : "visibility" }}
                </mat-icon>
              </button>
            </mat-form-field>
          }
          <button
            type="submit"
            mat-flat-button
            [disabled]="isLoading"
            (click)="isTrueRecoverCode ? recoverClick() : sendCodeClick()"
          >
            @if (isLoading) {
              Processing...
            } @else {
              @if (isTrueRecoverCode) {
                Recover
              } @else {
                Send Code
              }
            }
          </button>

          <p class="forget">
            <span>Already have an account?</span>
            <button class="recover" (click)="changeRecoverLoginMode()">
              Login
            </button>
          </p>
        </form>
      </div>
    </div>
  }
  <div class="vertical-line"></div>
  <div #network id="network"></div>
  <button (click)="changeTheme()" mat-fab class="theme-changer-container">
    <mat-icon class="icon material-symbols-outlined" id="theme-changer-icon">
      routine
    </mat-icon>
  </button>
</div>
